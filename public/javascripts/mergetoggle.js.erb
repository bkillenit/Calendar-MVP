function merge_user(user_id)
{
alert("boo");
        if (document.URL.indexOf("users") > 0 )
        {
            //window.location.href=document.URL + "," + user_id;
            //<%= params[:users]%>+=user_id;
            alert("<%= params[:users]%>");
        }
else
        {
            //window.location.href=document.URL + "?users=" + user_id;
                //<%= params[:users]%>=user_id;
           alert("<%= params[:users]%>");
        }

}

function unmerge_user(user_id, users)
{
        var merged_users = String(users).split(',');
        var index = merged_users.indexOf(user_id.toString());
    //alert(index);

        if (merged_users.length > 1)
        {
        merged_users.splice(index, 1);
    //alert(merged_users);

    //window.location.href="index?users=" + merged_users;
        <%= params[:users]%>=merged_users;
        }
else
    {
        //alert('index of users at 1');
        //window.location.href="index";

            <%= params[:users]%>=nil;
            }

}
